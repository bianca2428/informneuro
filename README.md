# Detailed methods and code

## Download sample

Start by going to
https://classic.clinicaltrials.gov/ct2/results/refine?show_xprt=Y and
paste the search strategy as outlined in
`1-clinicaltrials.gov-search.txt` and download the result. Save this
to `data/neuro-sample.csv`.

## Feasibility

Run `2-feasibility-enrolment.R`, this will calculate the ratio of
actual to expected enrolment for all trials listed in
`data/neuro-sample.csv` and plot this as a histogram in
`plots/enrol-ratio.pdf`.

## Reporting

Run `3-reporting_ct_dot_gov.R`, this will determine which trials
reported results directly on ClinicalTrials.gov and how many days it
took to do so and save this to `data/reporting.csv`.

To match NCT numbers to DOIs of publications, we worked in three
steps: 1. downloading PMIDs of "results" publications indexed on
ClinicalTrials.gov, 2. Scraping Pubmed for trials that matched the NCT
number and 3. Manually checking Google Scholar for publications. The
search strategy and manual checking templates were generated by the
script in `4-prep-for-manual-search.R`, which outputs the result of the semi-automated search strategy in `data/all-pubs-found.csv`.

## Importance

To code for importance, we downloaded citations for all found DOIs in
`data/citations.csv` and recorded which DOIs were never cited in
`data/no-citations.csv` using `5-download-citations.R`. We joined
these files together using `6-join.R`.

Figures x-y were generated using `7-analysis.R`.
